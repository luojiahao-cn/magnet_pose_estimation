<launch>
    <!-- 可配置参数 -->
    <arg name="port" default="/dev/ttyUSB0" />
    <arg name="baud_rate" default="921600" />
    <arg name="frame_id" default="tool_tcp" />
    <arg name="timeout" default="1000" />
    <!-- 默认发布原始话题 + 自动派生 _mT 话题；为方便消费者，默认原始话题名设为 /mag_sensor/data（_mT 会同步发布） -->
    <arg name="topic" default="/mag_sensor/data" />
    <arg name="sleep_ms" default="1" />
    <arg name="freq_stat_period" default="5.0" />

    <rosparam command="load" file="$(find mag_sensor_node)/config/sensor_config.yaml" />

    <node pkg="mag_sensor_node" type="mag_sensor_node" name="mag_sensor_node" output="screen">
        <param name="port" value="$(arg port)" />
        <param name="baud_rate" value="$(arg baud_rate)" />
        <param name="frame_id" value="$(arg frame_id)" />
        <param name="topic" value="$(arg topic)" />
        <param name="timeout" value="$(arg timeout)" />
        <param name="sleep_ms" value="$(arg sleep_ms)" />
        <param name="freq_stat_period" value="$(arg freq_stat_period)" />
    </node>
</launch>
